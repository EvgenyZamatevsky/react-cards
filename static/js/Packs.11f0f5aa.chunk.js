"use strict";(self.webpackChunkreact_cards=self.webpackChunkreact_cards||[]).push([[25],{9743:function(e,a,t){t.r(a),t.d(a,{Packs:function(){return F}});var n=t(885),s=t(2791),c=t(4207),i=t(3949),r=t(9425),u=t(1866),d=t(9434),l=t(6310),o=t(6871),k=t(1907),m=t(1543),v=t(6582),p=t(6288),f=t(6109),_=t(4064),C="Pack_container__5O9xN",h="Pack_list__9X9AP",P="Pack_name__-WpXI",x="Pack_cardsCount__q8tHJ",N="Pack_updated__DLk6N",j="Pack_userName__SOjrz",g=t(184),S=function(e){var a=e.userId,t=e.userName,c=e.packId,i=e.packName,S=e.cardsCount,D=e.packUpdated,I=e.isDisabled,M=(0,u.T)(),b=(0,o.s0)(),V=(0,d.v9)(l.DQ),A=(0,s.useState)(!1),y=(0,n.Z)(A,2),w=y[0],U=y[1],O=(0,s.useState)(!1),Z=(0,n.Z)(O,2),B=Z[0],E=Z[1],R=(0,s.useState)(f.v),z=(0,n.Z)(R,2),F=z[0],J=z[1],L=(0,s.useState)(f.v),Q=(0,n.Z)(L,2),T=Q[0],W=Q[1],X=(0,s.useRef)(null),q=V===a,H=function(){return U(!1),W(f.v),void(F!==i&&J(i))},K=function(){return E(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.u_,{isModalActive:w,onDeactivateModalClick:H,children:(0,g.jsx)(p.N1,{value:F,setUpdatedPackName:J,onDeactivateModalClick:H,onSaveClick:function(){var e=F.trim(),t=i.trim();e!==f.v?(e!==t&&M((0,r.JS)({authorizedUserId:a,packId:c,updatedPackName:e})),U(!1)):W(f.c)},title:"Edit pack",errorMessage:T,setErrorMessage:W,ref:X})}),(0,g.jsx)(p.u_,{isModalActive:B,onDeactivateModalClick:K,children:(0,g.jsx)(p.tc,{title:"Delete Pack",name:i,onDeactivateModalClick:K,onDeleteClick:function(){M((0,r.Kc)({packId:c,authorizedUserId:a})),E(!1)}})}),(0,g.jsx)("div",{className:C,children:(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)(_.Y,{className:P,onClick:function(){b("".concat(k.y.CARDS,"/").concat(c))},disabled:I,children:i}),(0,g.jsx)("div",{className:x,children:S}),(0,g.jsx)("div",{className:N,children:(0,v.N)(D)}),(0,g.jsx)("div",{className:j,children:t}),(0,g.jsx)(m.e,{onActivateDeleteModalClick:function(){return E(!0)},onActivateEditModalClick:function(){var e;U(!0),J(i),null===(e=X.current)||void 0===e||e.focus()},cardsCount:S,packId:c,isOwner:q})]})})]})},D=t(7746),I=t(5164),M={container:"Packs_container__Shc0U",top:"Packs_top__RVEbs",title:"Packs_title__aCFqi",addNewPackBtn:"Packs_addNewPackBtn__nj-PJ",main:"Packs_main__8DO3Q",numberOfCards:"Packs_numberOfCards__rAZ4s",sort:"Packs_sort__RAcax",emptyItems:"Packs_emptyItems__H+9hP"},b=t(4260),V=function(e){return e.packs.packs},A=function(e){return e.packs.searchPackValue},y=function(e){return e.packs.sortValue},w=function(e){return e.packs.minValue},U=function(e){return e.packs.maxValue},O=function(e){return e.packs.minCardsCount},Z=function(e){return e.packs.maxCardsCount},B=function(e){return e.packs.pageCount},E=function(e){return e.packs.page},R=function(e){return e.packs.selectedPack},z=function(e){return e.packs.packsTotalCount},F=function(){var e=(0,u.T)(),a=(0,d.v9)(l.Jt),t=(0,d.v9)(b.gr),r=(0,d.v9)(V),m=(0,d.v9)(A),v=(0,d.v9)(y),p=(0,d.v9)(w),_=(0,d.v9)(U),C=(0,d.v9)(O),h=(0,d.v9)(Z),P=(0,d.v9)(l.DQ),x=(0,d.v9)(R),N=(0,d.v9)(B),j=(0,d.v9)(E),F=(0,d.v9)(z),J=(0,s.useState)(!1),L=(0,n.Z)(J,2),Q=L[0],T=L[1],W=(0,s.useState)(f.v),X=(0,n.Z)(W,2),q=X[0],H=X[1],K=(0,s.useState)(!1),Y=(0,n.Z)(K,2),$=Y[0],G=Y[1],ee=(0,s.useState)(f.v),ae=(0,n.Z)(ee,2),te=ae[0],ne=ae[1],se=(0,s.useRef)(null),ce=r.map((function(e){var a=e._id,n=e.name,s=e.cardsCount,c=e.updated,i=e.user_name,r=e.user_id;return(0,g.jsx)(S,{packId:a,userId:r,packName:n,cardsCount:s,packUpdated:c,userName:i,isDisabled:t},a)}));(0,s.useEffect)((function(){e((0,D.KQ)({packName:m,sortPacks:v,min:p,max:_,pageCount:N,page:j,userId:P}))}),[m,v,p,_,N,j,x]);var ie=function(){T(!1),H(f.v),G(!1),ne(f.v)},re=function(){return ie()},ue=(0,s.useCallback)((function(a){e((0,I.$W)(a))}),[]),de=(0,s.useCallback)((function(a){e((0,I.nX)(a))}),[]);return a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.u_,{isModalActive:Q,onDeactivateModalClick:re,children:(0,g.jsx)(i.N1,{onDeactivateModalClick:re,setUpdatedPackName:H,setIsPackPrivate:G,onSaveClick:function(){var a=q.trim();a!==f.v?(e((0,D.St)({authorizedUserId:P,packName:a,isPackPrivate:$})),ie()):ne(f.c)},value:q,isPackPrivate:$,isLabelItem:!0,errorMessage:te,setErrorMessage:ne,ref:se,title:"Add new pack"})}),(0,g.jsxs)("div",{className:M.container,children:[(0,g.jsxs)("div",{className:M.top,children:[(0,g.jsx)("h2",{className:M.title,children:"Packs list"}),(0,g.jsx)(c.Y7,{primary:!0,additionalPrimaryBtn:M.addNewPackBtn,onClick:function(){var e;T(!0),null===(e=se.current)||void 0===e||e.focus()},disabled:t,children:"Add new pack"})]}),(0,g.jsxs)("div",{className:M.main,children:[(0,g.jsx)(c.ol,{title:"Search",searchValue:m,handleSetSearchValueChange:function(a){e((0,I.PN)(a))},handleResetSearchValueClick:function(a){e((0,I.PN)(a))}}),(0,g.jsx)(c.jW,{selectedPack:x}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:M.numberOfCards,children:"Number of cards"}),(0,g.jsx)(c.w$,{max:_,min:p,maxDefaultValue:h,minDefaultValue:C,setMaxValueMouseUp:ue,setMinValueMouseUp:de,isDisabled:t})]})]}),(0,g.jsxs)("div",{className:M.sort,children:[(0,g.jsx)(c.PE,{sortValues:["Name","Cards","Last Updated","Created by"],sortByDescending:["0name","0cardsCount","0updated","0user_name"],sortByAscending:["1name","1cardsCount","1updated","1user_name"],sortValue:v,handleSortByAscendingClick:function(a){e((0,I.Vw)(a))},handleSortByDescendingClick:function(a){e((0,I.Vw)(a))},isDisabled:t}),(0,g.jsx)("div",{className:M.actions,children:"Actions"})]}),r.length?ce:(0,g.jsx)("h2",{className:M.emptyItems,children:"This pack is empty"}),(0,g.jsx)(c.tl,{pageCount:N,page:j,handleSetPageClick:function(a){e((0,I.tO)(a))},handleSetPageCountChange:function(a){e((0,I.j9)(a))},totalItemsCount:F})]})]}):(0,g.jsx)(o.Fg,{to:k.y.LOGIN})}}}]);
//# sourceMappingURL=Packs.11f0f5aa.chunk.js.map